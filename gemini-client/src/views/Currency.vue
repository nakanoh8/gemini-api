<template>
    <el-row>
        <el-col :span="24">
            <el-card class="box-card">
                <div slot="header" class="clearfix">
                    <span>仮想通貨一覧</span>
                    <p>{{currencies[0]}}</p>
                </div>
                <el-table
                        :data="currencies"
                        style="width: 100%">
                    <el-table-column
                            prop="id"
                            label="通貨ID"
                            width="300"/>
                    <el-table-column
                            prop="name"
                            label="通貨名"
                            width="300"/>
                    <el-table-column
                            prop="symbol"
                            label="通貨単位"
                            width="300"/>
                    <el-table-column
                            prop="amount"
                            label="数量"
                            width="300"/>
                </el-table>
            </el-card>
        </el-col>
    </el-row>
</template>

<script>
  /* eslint-disable no-console */

  import axios from 'axios'

  export default {
    name: "Currency",
    data () {
      return {
        currencies: []
      }
    },
    created: async function () {
      await this.refresh()
    },
    methods: {
      refresh: async function () {
        const res = await axios.get('http://localhost:8080/')
        this.currencies = res.data.currencies
        console.info(this.currencies)
      }
    }
  }
</script>

<style scoped>

</style>